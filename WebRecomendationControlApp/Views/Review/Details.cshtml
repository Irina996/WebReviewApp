@model WebRecomendationControlApp.Models.Review

@{
	ViewData["Title"] = "Details";
	Layout = "~/Views/Shared/_Layout.cshtml";
}

<h1>Details</h1>

<div>
	<div class="row">
		<div class="justify-content-xl-start">
			<label class="col h4">Review</label>
			@if (ViewBag.AllowEdit)
			{
				<a class="col text-decoration-none" asp-action="Edit" asp-route-id="@Model?.Id">
					<i class="fa fa-pencil" aria-hidden="true"></i>
				</a>
				<a class="col text-decoration-none" asp-Action="Delete" asp-route-id="@Model?.Id">
					<i class="fa fa-trash" aria-hidden="true"></i>
				</a>
			}
		</div>
	</div>
	<hr />
	<dl class="row">
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.Title)
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.Title)
		</dd>
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.Creator)
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.Creator.UserName)
		</dd>
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.Tags)
		</dt>
		<dd class="col-sm-10">
			@{
				string tagList = "";
			}
			@foreach (var tag in Model.Tags)
			{
				tagList += tag.Tag + "\t";
			}
			@tagList
		</dd>
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.Group)
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.Group.Name)
		</dd>
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.Rating)
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.Rating)
		</dd>
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.Description)
		</dt>
		<dd class="col-sm-10">
			<pre>@Html.DisplayFor(model => model.Description)</pre>
		</dd>
	</dl>
</div>
<div class="row">
	<div class="justify-content-xl-start">
		<a class="col text-decoration-none" asp-controller="Comment" asp-action="Index" asp-route-id="@Model?.Id">
			<i class="fa fa-comment" aria-hidden="true"></i>
		</a>
		@if (ViewBag.Liked)
		{
			<button class="col btn btn-white btn-circle" onclick="ChangeLikeStatus('@Model?.Id', '@ViewBag.UserId')">
				<i id="like" class="fa fa-heart" aria-hidden="true" style='color: blue'></i>
			</button>
		}
		else
		{
			<button class="col btn btn-white btn-circle" onclick="ChangeLikeStatus('@Model?.Id', '@ViewBag.UserId')">
				<i id="like" class="far fa-heart" aria-hidden="true" style='color: blue'></i>
			</button>
		}
		@for (int i = 1; i <= ViewBag.StarCount; i++)
		{
			string starId = "star" + i;
			<button class="col btn btn-white btn-circle mx-0 px-0" onclick="ChangeStarStatus('@starId', '@Model?.Id', '@ViewBag.UserId')">
				<i id="@starId" class="fa fa-star" aria-hidden="true" style='color: blue'></i>
			</button>
		}
		@for (int i = ViewBag.StarCount + 1; i <= 5; i++)
		{
			string starId = "star" + i;
			<button class="col btn btn-white btn-circle mx-0 px-0" onclick="ChangeStarStatus('@starId', '@Model?.Id', '@ViewBag.UserId')">
				<i id="@starId" class="far fa-star" aria-hidden="true" style='color: blue'></i>
			</button>
		}
	</div>
	<a href="javascript:history.back()">Back</a>
</div>
